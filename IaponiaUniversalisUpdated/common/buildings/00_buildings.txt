###
# Iaponia Buildings
###

# Do not change tags in here without changing every other reference to them.
# If adding new buildings, make sure they are uniquely named.

# cost = x #==> cost in $ to build (subject to other modifiers)
# time = x #==> number of months to build.
# modifier = m # a modifier on the province that the building gives
# trigger = t # an and trigger that needs to be fullfilled to build and keep the building
# one_per_country = yes/no # if yes, only one of these can exist in a country
# manufactory = { trade_good trade_good } # list of trade goods that get a production bonus
# onmap = yes/no # show as a sprite on the map

# FROM = owner
# ROOT = province

# AI will consider buildings it does not have the tech for at 20% of scripted AI weight (in case it wants to save slots)

###
# Fort Chain
###

fortified_mansion = {
	cost = 150
	time = 24
	modifier = {
		fort_level = 1
	}

	onmap = yes
	influencing_fort = yes

	ai_will_do = {
		factor =
	}
}

garrison = {
	cost = 300
	time = 24
	make_obsolete = fortified_mansion
	modifier = {
		fort_level = 2
	}

	onmap = yes
	influencing_fort = yes

	ai_will_do = {
		factor =
	}
}

fort = {
	cost = 600
	time = 36
	make_obsolete = garrison
	modifier = {
		fort_level = 4
	}

	onmap = yes
	influencing_fort = yes

	ai_will_do = {
		factor =
	}
}

castle = {
	cost = 900
	time = 36
	make_obsolete = fort
	modifier = {
		fort_level = 6
		local_defensiveness = 0.05
	}

	onmap = yes
	influencing_fort = yes

	ai_will_do = {
		factor =
	}
}

citadel = {
	cost = 1200
	time = 48
	make_obsolete = castle
	modifier = {
		fort_level = 8
		local_defensiveness = 0.1
	}

	onmap = yes
	influencing_fort = yes

	ai_will_do = {
		factor =
	}
}

###
# Defense Chain
###

outer_wall = {
	cost = 300
	time = 24
	trigger = {
		OR = {
			has_building = castle
			has_building = citadel
			has_building = castle_palace
		}
	}
	modifier = {
		local_defensiveness = 0.1
		local_hostile_attrition = 1
	}

	ai_will_do = {
		factor =
	}
}

outer_wards = {
	cost = 400
	time = 36
	make_obsolete = outer_wall
	trigger = {
		OR = {
			has_building = citadel
			has_building = castle_palace
		}
	}
	modifier = {
		local_defensiveness = 0.2
		local_hostile_attrition = 2
	}

	ai_will_do = {
		factor =
	}
}

###
# Army Chain
###

training_grounds = {
	cost = 75
	time = 8
	modifier = {
		local_manpower_modifier = 0.4
		regiment_recruit_speed = -0.1
	}

	ai_will_do = {
		factor =
	}
}

barracks = {
	cost = 200
	time = 16
	make_obsolete = training_grounds
	modifier = {
		local_manpower_modifier = 0.6
		regiment_recruit_speed = -0.25
	}

	ai_will_do = {
		factor =
	}
}

arsenal = {
	cost = 500
	time = 30
	modifier = {
		land_forcelimit = 2
		local_regiment_cost = -0.15
	}

	ai_will_do = {
		factor =
	}
}

###
# Naval Chain
###

shipyard = {
	cost = 150
	time = 12
	trigger = {
		has_port = yes
	}
	modifier = {
		ship_recruit_speed = -0.25
		local_ship_repair = 0.25
	}

	ai_will_do = {
		factor =
	}
}

drydock = {
	cost = 300
	time = 24
	make_obsolete = shipyard
	trigger = {
		has_port = yes
	}
	modifier = {
		ship_recruit_speed = -0.5
		local_ship_repair = 0.5
	}

	ai_will_do = {
		factor =
	}
}

wharf = {
	cost = 400
	time = 30
	trigger = {
		has_port = yes
	}
	modifier = {
		naval_forcelimit = 4
		province_trade_power_value = 2
	}

	ai_will_do = {
		factor =
	}
}

###
# Economic Chain
###

marketplace = {
	cost = 75
	time = 8

	modifier = {
		province_trade_power_modifier = 0.4
		local_tax_modifier = 0.1
	}

	ai_will_do = {
		factor =
	}
}

merchant_guild = {
	cost = 250
	time = 20
	make_obsolete = marketplace

	modifier = {
		province_trade_power_modifier = 0.75
		local_tax_modifier = 0.25
	}

	ai_will_do = {
		factor =
	}
}

workshop = {
	cost = 300
	time = 24

	modifier = {
		local_production_efficiency = 0.5
		trade_goods_size_modifier = 0.15
	}

	allow_in_gold_provinces = no

	ai_will_do = {
		factor =
	}
}

###
# Road Chain
###

toll_roads = {
	cost = 100
	time = 12

	modifier = {
		local_friendly_movement_speed = 0.15
		local_hostile_movement_speed = 0.15
		local_tax_modifier = 0.05
	}

	ai_will_do = {
		factor =
	}
}

post_roads = {
	cost = 200
	time = 24
	make_obsolete = toll_roads

	modifier = {
		local_friendly_movement_speed = 0.3
		local_hostile_movement_speed = 0.3
		local_tax_modifier = 0.1
	}

	ai_will_do = {
		factor =
	}
}

highways = {
	cost = 600
	time = 36
	make_obsolete = post_roads

	modifier = {
		local_friendly_movement_speed = 0.5
		local_hostile_movement_speed = 0.5
		local_tax_modifier = 0.1
		local_development_cost = -0.05
	}

	ai_will_do = {
		factor =
	}
}

###
# Order Chain
###

shrine = {
	cost = 75
	time = 8

	modifier = {
		local_tax_modifier = 0.3
		local_missionary_strength = 0.01
	}

	ai_will_do = {
		factor =
	}
}

temple = {
	cost = 250
	time = 20
	make_obsolete = shrine

	modifier = {
		local_tax_modifier = 0.5
		local_missionary_strength = 0.03
	}

	ai_will_do = {
		factor =
	}
}

magistrate = {
	cost = 400
	time = 30

	modifier = {
		local_state_maintenance_modifier = -0.5
		local_autonomy = -0.2
	}

	ai_will_do = {
		factor =
	}
}

###
# Civil Chain
###

tea_house = {
	cost = 200
	time = 18

	modifier = {

		local_institution_spread = 0.1
	}

	ai_will_do = {
		factor =
	}
}

theater = {
	cost = 200
	time = 18

	modifier = {
		tax_income = 1
		local_unrest = -2
	}

	ai_will_do = {
		factor =
	}
}

academy = {
	cost = 300
	time = 24

	modifier = {
		local_development_cost = -0.20
		allowed_num_of_buildings = 1
	}

	ai_will_do = {
		factor =
	}
}

###
# Manufactories
###

granary = {
	cost = 750
	time = 40
	manufactory = {
		grain
		rice
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

gunsmith = {
	cost = 750
	time = 40
	manufactory = {
		firearms
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

ranch = {
	cost = 750
	time = 40
	manufactory = {
		horses
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

textile_workshop = {
	cost = 750
	time = 40
	manufactory = {
		silk
		cloth
		dyes
		fur
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

lumbermill = {
	cost = 750
	time = 40
	manufactory = {
		bamboo
		lumber
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

artisan_workshop = {
	cost = 750
	time = 40
	manufactory = {
		paper
		lacquerware
		pottery
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

mine_network = {
	cost = 750
	time = 40
	manufactory = {
		metal
		salt
		gold
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

dockyard = {
	cost = 750
	time = 40
	manufactory = {
		fish
		mainland_trade
		seaweed
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

brewery = {
	cost = 750
	time = 40
	manufactory = {
		sake
		tea
	}
	modifier = {
		trade_goods_size = 1.0
	}
	onmap = yes

	ai_will_do = {
		factor =
	}
}

###
# Uniques
###

castle_palace = {
	cost = 1600
	time = 60
	trigger = {
		AND = {
			is_capital = yes
			has_building = citadel
		}
	}
	modifier = {
		fort_level = 11
		local_defensiveness = 0.2
		allowed_num_of_buildings = 1
	}
	one_per_country = yes

	onmap = yes
	influencing_fort = yes

	ai_will_do = {
		factor =
	}
}

satellite_forts = {
	cost = 600
	time = 48
	trigger = {
		AND = {
			is_capital = yes
			has_building = castle_palace
			has_building = outer_wards
		}
	}
	modifier = {
		local_defensiveness = 0.40
		local_hostile_attrition = 3
		allowed_num_of_buildings = 1
	}
	one_per_country = yes

	ai_will_do = {
		factor =
	}
}

western_quarter = {
	cost = 800
	time = 40
	trigger = {
		AND = {
			has_institution = western_trade
			has_province_modifier = center_of_trade_modifier
		}
	}
	modifier = {
		technology_cost = -0.1
		province_trade_power_value = 8
	}
	one_per_country = yes

	ai_will_do = {
		factor =
	}
}

family_temple = {
	cost = 1000
	time = 48
	trigger = {
		is_capital = yes
	}
	modifier = {
		diplomatic_reputation = 1
		prestige = 1
	}
	one_per_country = yes

	ai_will_do = {
		factor =
	}
}

ninjutsu_school = {
	cost = 750
	time = 36
	trigger = {
		AND = {
			is_capital = no
			is_state = yes
		}
	}
	modifier = {
		global_spy_defence = 0.15
		spy_offence = 0.15
	}
	one_per_country = yes

	ai_will_do = {
		factor =
	}
}

mint = {
	cost = 750
	time = 36
	trigger = {
		development = 20
	}
	modifier = {
		inflation_reduction = 0.05
		stability_cost_modifier = -0.1
	}
	one_per_country = yes

	ai_will_do = {
		factor =
	}
}

charter_guild = {
	cost = 1000
	time = 48
	trigger = {
		OR = {
			has_province_modifier = center_of_trade_modifier
			has_province_modifier = inland_center_of_trade_modifier
		}
	}
	modifier = {
		merchants = 1
		trade_efficiency = 0.1
	}
	one_per_country = yes

	ai_will_do = {
		factor =
	}
}
